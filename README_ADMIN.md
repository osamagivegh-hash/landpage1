# نظام إدارة مطعم أوسال

## نظرة عامة
تم إنشاء نظام إدارة شامل لمطعم أوسال يتيح إدارة المحتوى والرسائل بسهولة.

## الميزات المضافة

### 1. إصلاح التباعد في الهيدر
- تم تحسين التباعد بين عناصر القائمة في الهيدر
- إضافة padding إضافي للعناصر لتحسين المظهر

### 2. تغيير اسم المطعم
- تم تغيير اسم المطعم من "ماما نورا" إلى "أوسال" في جميع أنحاء الموقع
- تحديث جميع الملفات والمكونات

### 3. لوحة التحكم الإدارية
- **الوصول**: `/admin`
- **الميزات**:
  - نظرة عامة على الإحصائيات
  - إدارة الوجبات
  - إدارة العروض
  - إدارة الرسائل
  - إعدادات المطعم

### 4. إدارة الوجبات
- إضافة وجبات جديدة
- تعديل الوجبات الموجودة
- حذف الوجبات
- رفع صور الوجبات
- إدارة المكونات
- تحديد الوجبات المميزة

### 5. إدارة العروض
- إضافة عروض جديدة
- تعديل العروض الموجودة
- حذف العروض
- تحديد نسبة الخصم
- إدارة أكواد الخصم
- تحديد تاريخ انتهاء العرض

### 6. إدارة الرسائل
- عرض جميع الرسائل الواردة
- تمييز الرسائل المقروءة وغير المقروءة
- عرض تفاصيل الحجوزات
- حذف الرسائل

## كيفية الاستخدام

### الوصول للوحة التحكم
1. افتح الموقع
2. اضغط على "لوحة التحكم" في القائمة العلوية
3. ستنتقل إلى صفحة الإدارة

### إضافة وجبة جديدة
1. في لوحة التحكم، اضغط على "إدارة الوجبات"
2. اضغط على "إضافة وجبة جديدة"
3. املأ البيانات المطلوبة:
   - اسم الوجبة
   - الوصف
   - السعر
   - الفئة
   - رابط الصورة
   - المكونات
   - تحديد إذا كانت مميزة
4. اضغط "حفظ"

### إضافة عرض جديد
1. في لوحة التحكم، اضغط على "إدارة العروض"
2. اضغط على "إضافة عرض جديد"
3. املأ البيانات المطلوبة:
   - عنوان العرض
   - الوصف
   - نسبة الخصم
   - الحد الأدنى للطلب
   - تاريخ انتهاء العرض
   - كود الخصم (اختياري)
4. اضغط "حفظ"

### إدارة الرسائل
1. في لوحة التحكم، اضغط على "الرسائل"
2. ستظهر جميع الرسائل الواردة
3. اضغط على أيقونة العين لتمييز الرسالة كمقروءة
4. يمكنك حذف الرسائل غير المرغوب فيها

## الملفات المضافة/المحدثة

### Frontend
- `frontend/app/admin/page.tsx` - صفحة لوحة التحكم الرئيسية
- `frontend/components/admin/MealForm.tsx` - نموذج إضافة/تعديل الوجبات
- `frontend/components/admin/OfferForm.tsx` - نموذج إضافة/تعديل العروض
- `frontend/components/Header.tsx` - تحديث الهيدر مع رابط لوحة التحكم
- `frontend/components/Contact.tsx` - تحديث نموذج الاتصال لإرسال الرسائل

### Backend
- `backend/routes/admin.js` - API routes للإدارة
- `backend/routes/messages.js` - API routes للرسائل
- `backend/models/Message.js` - نموذج قاعدة البيانات للرسائل
- `backend/server.js` - تحديث لإضافة routes جديدة

## API Endpoints

### إدارة الوجبات
- `GET /api/admin/meals` - جلب جميع الوجبات
- `POST /api/admin/meals` - إضافة وجبة جديدة
- `PUT /api/admin/meals/:id` - تحديث وجبة
- `DELETE /api/admin/meals/:id` - حذف وجبة

### إدارة العروض
- `GET /api/admin/offers` - جلب جميع العروض
- `POST /api/admin/offers` - إضافة عرض جديد
- `PUT /api/admin/offers/:id` - تحديث عرض
- `DELETE /api/admin/offers/:id` - حذف عرض

### إدارة الرسائل
- `GET /api/messages` - جلب جميع الرسائل
- `POST /api/messages` - إرسال رسالة جديدة
- `PUT /api/messages/:id/read` - تمييز رسالة كمقروءة
- `DELETE /api/messages/:id` - حذف رسالة

## التشغيل

### تشغيل الباك إند
```bash
cd backend
npm install
npm run dev
```

### تشغيل الفرونت إند
```bash
cd frontend
npm install
npm run dev
```

### إنشاء مجلد الصور (إذا لم يكن موجوداً)
```bash
mkdir backend/uploads
```

## ميزات رفع الصور الجديدة

### ✅ رفع الصور المحلي
- رفع الصور مباشرة من جهازك
- دعم جميع أنواع الصور (JPG, PNG, GIF, WebP)
- حد أقصى 5MB لكل صورة
- معاينة فورية للصور

### كيفية استخدام رفع الصور:
1. في نموذج إضافة/تعديل الوجبة أو العرض
2. اضغط على منطقة رفع الصورة
3. اختر الصورة من جهازك
4. انتظر اكتمال الرفع
5. ستظهر معاينة للصورة
6. احفظ البيانات

## ملاحظات مهمة
- تأكد من تشغيل الباك إند قبل الوصول للوحة التحكم
- جميع البيانات محفوظة في قاعدة البيانات MongoDB
- الرسائل المرسلة من نموذج الاتصال ستظهر في لوحة التحكم
- الصور المرفوعة محفوظة في مجلد `backend/uploads`
- تأكد من إنشاء مجلد `uploads` قبل البدء
- يمكن رفع الصور عبر روابط URLs

## الدعم
لأي استفسارات أو مشاكل، يرجى مراجعة الكود أو التواصل مع فريق التطوير.
